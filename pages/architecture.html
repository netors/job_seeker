<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>System Architecture | AI-Powered Job Search System</title>
    <meta name="description" content="Detailed technical architecture documentation for the AI-powered job search system built with CrewAI framework.">

    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <script>
        mermaid.initialize({ startOnLoad: true, theme: 'default' });
    </script>
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <h1>ü§ñ AI Job Search</h1>
            </div>
            <ul class="nav-menu">
                <li><a href="index.html" class="nav-link">Home</a></li>
                <li><a href="architecture.html" class="nav-link active">Architecture</a></li>
                <li><a href="getting-started.html" class="nav-link">Getting Started</a></li>
                <li><a href="api-reference.html" class="nav-link">API Reference</a></li>
                <li><a href="https://github.com/netors/job_seeker" class="nav-link">GitHub</a></li>
            </ul>
        </div>
    </nav>

    <div class="breadcrumb">
        <div class="container">
            <div class="breadcrumb-nav">
                <a href="index.html">Home</a>
                <span>></span>
                <span>Architecture</span>
            </div>
        </div>
    </div>

    <div class="page-header">
        <div class="container">
            <h1>System Architecture</h1>
            <p>Deep dive into the technical architecture and design patterns of the AI-powered job search system</p>
        </div>
    </div>

    <main>
        <!-- Overview Section -->
        <section class="section">
            <div class="container">
                <h2>Architecture Overview</h2>
                <div class="content-grid">
                    <div class="content-block">
                        <h3>üèóÔ∏è Multi-Agent Design Pattern</h3>
                        <p>
                            The system follows a multi-agent architecture pattern where each agent is a specialized AI entity
                            responsible for specific aspects of the job search process. This design promotes modularity,
                            scalability, and maintainability.
                        </p>
                    </div>
                    <div class="content-block">
                        <h3>üîÑ Sequential Task Execution</h3>
                        <p>
                            Tasks are executed in a specific sequence where the output of one agent becomes the input for the next.
                            This creates a pipeline that transforms raw job search queries into comprehensive reports and strategies.
                        </p>
                    </div>
                    <div class="content-block">
                        <h3>üß∞ Tool-Based Architecture</h3>
                        <p>
                            Each agent is equipped with specialized tools that enable them to perform their designated functions.
                            Tools handle external API calls, database operations, file generation, and data processing.
                        </p>
                    </div>
                    <div class="content-block">
                        <h3>üíæ Data Persistence Layer</h3>
                        <p>
                            The system maintains a persistent SQLite database that stores job opportunities, evaluations,
                            and search history. This enables tracking progress over time and building historical insights.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- System Architecture Diagram -->
        <section class="section alt-bg">
            <div class="container">
                <h2>System Architecture Diagram</h2>
                <div class="diagram-container">
                    <h3 class="diagram-title">Complete System Architecture</h3>
                    <div class="mermaid">
graph TB
    subgraph "üéØ User Interface"
        CLI[Command Line Interface]
        Profile[User Profile JSON]
    end

    subgraph "ü§ñ CrewAI Framework"
        Crew[JobSeeker Crew]

        subgraph "AI Agents"
            JobSearch[üîç Job Search Agent]
            JobEval[‚öñÔ∏è Job Evaluator Agent]
            Database[üóÑÔ∏è Database Manager Agent]
            ReportGen[üìÑ Report Generator Agent]
            AppCoord[üéØ Application Coordinator Agent]
        end

        subgraph "Tasks"
            SearchTask[job_search_task]
            EvalTask[job_evaluation_task]
            DBTask[database_storage_task]
            ReportTask[report_generation_task]
            AppTask[application_coordination_task]
        end
    end

    subgraph "üõ†Ô∏è Tools & External Services"
        SerperTool[SerperDevTool]
        SerperAPI[Serper API]
        JobSearchTool[job_search_tool]
        EvalTool[job_evaluation_tool]
        DBTool[database_tool]
        ReportTool[report_generation_tool]
    end

    subgraph "üíæ Data Storage"
        SQLite[(SQLite Database)]
        JobDB[job_opportunities.db]
    end

    subgraph "üìÑ Output Files"
        JobReport[job_search_report.md]
        AppStrategy[application_strategy.md]
    end

    %% Connections
    CLI --> Crew
    Profile --> Crew

    Crew --> SearchTask
    Crew --> EvalTask
    Crew --> DBTask
    Crew --> ReportTask
    Crew --> AppTask

    SearchTask --> JobSearch
    EvalTask --> JobEval
    DBTask --> Database
    ReportTask --> ReportGen
    AppTask --> AppCoord

    JobSearch --> JobSearchTool
    JobEval --> EvalTool
    Database --> DBTool
    ReportGen --> ReportTool

    JobSearchTool --> SerperTool
    SerperTool --> SerperAPI
    SerperAPI --> |Fallback| MockData[Mock Job Data]

    DBTool --> SQLite
    SQLite --> JobDB

    ReportTool --> JobReport
    AppCoord --> AppStrategy

    %% Data flow
    JobSearchTool --> |Job Data| EvalTool
    EvalTool --> |Scored Jobs| DBTool
    DBTool --> |Stored Data| ReportTool
    ReportTool --> |Analysis| AppCoord

    %% Styling
    classDef agent fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
    classDef task fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px
    classDef tool fill:#e8f5e8,stroke:#388e3c,stroke-width:2px
    classDef data fill:#fff3e0,stroke:#f57c00,stroke-width:2px
    classDef output fill:#fce4ec,stroke:#c2185b,stroke-width:2px

    class JobSearch,JobEval,Database,ReportGen,AppCoord agent
    class SearchTask,EvalTask,DBTask,ReportTask,AppTask task
    class SerperTool,JobSearchTool,EvalTool,DBTool,ReportTool tool
    class SQLite,JobDB,Profile data
    class JobReport,AppStrategy output
                    </div>
                </div>
            </div>
        </section>

        <!-- Workflow Sequence -->
        <section class="section">
            <div class="container">
                <h2>Workflow Sequence Diagram</h2>
                <div class="diagram-container">
                    <h3 class="diagram-title">Agent Interaction Sequence</h3>
                    <div class="mermaid">
sequenceDiagram
    participant User as üë§ User
    participant Main as üöÄ Main Process
    participant Crew as ü§ñ CrewAI Crew
    participant JobSearch as üîç Job Search Agent
    participant JobEval as ‚öñÔ∏è Job Evaluator Agent
    participant Database as üóÑÔ∏è Database Manager Agent
    participant ReportGen as üìÑ Report Generator Agent
    participant AppCoord as üéØ Application Coordinator Agent
    participant Serper as üåê SerperDevTool
    participant DB as üíæ SQLite Database

    User->>Main: python src/job_seeker/main.py run
    Main->>Main: Load user profile from JSON
    Main->>Crew: Initialize JobSeeker crew

    Note over Crew: Sequential Task Execution

    Crew->>JobSearch: Execute job_search_task
    JobSearch->>Serper: Search for jobs on multiple sites
    alt Serper API Success
        Serper-->>JobSearch: Real job data
    else Serper API Timeout
        Serper-->>JobSearch: Connection timeout
        JobSearch->>JobSearch: Fallback to mock data
    end
    JobSearch-->>Crew: JSON job search results

    Crew->>JobEval: Execute job_evaluation_task
    JobEval->>JobEval: Load job search results
    JobEval->>JobEval: Apply scoring algorithm
    JobEval-->>Crew: Evaluated jobs with scores

    Crew->>Database: Execute database_storage_task
    Database->>DB: Store jobs in SQLite
    Database->>DB: Update job records
    Database-->>Crew: Database storage confirmation

    Crew->>ReportGen: Execute report_generation_task
    ReportGen->>ReportGen: Load evaluated jobs
    ReportGen->>ReportGen: Generate markdown report
    ReportGen-->>Crew: job_search_report.md

    Crew->>AppCoord: Execute application_coordination_task
    AppCoord->>AppCoord: Load job data and user profile
    AppCoord->>AppCoord: Create application strategy
    AppCoord-->>Crew: application_strategy.md

    Crew-->>Main: All tasks completed
    Main-->>User: Job search results and reports

    Note over User,DB: Generated Files:
    Note over User,DB: - job_search_report.md
    Note over User,DB: - application_strategy.md
    Note over User,DB: - job_opportunities.db
                    </div>
                </div>
            </div>
        </section>

        <!-- Process Flow -->
        <section class="section alt-bg">
            <div class="container">
                <h2>Process Flow Diagram</h2>
                <div class="diagram-container">
                    <h3 class="diagram-title">End-to-End Process Flow</h3>
                    <div class="mermaid">
graph TD
    Start([üöÄ Start Job Search]) --> LoadProfile[üìã Load User Profile]
    LoadProfile --> InitCrew[ü§ñ Initialize CrewAI Crew]

    InitCrew --> JobSearch[üîç Job Search Agent]
    JobSearch --> |Uses SerperDevTool| SearchResults[üìä Job Search Results]
    SearchResults --> |Falls back to mock data| MockResults[üìù Mock Job Data]

    SearchResults --> JobEval[‚öñÔ∏è Job Evaluator Agent]
    MockResults --> JobEval

    JobEval --> |Uses evaluation algorithm| EvalResults[üìà Evaluated Jobs with Scores]

    EvalResults --> Database[üóÑÔ∏è Database Manager Agent]
    Database --> |Stores in SQLite| JobDB[(üíæ job_opportunities.db)]

    JobDB --> ReportGen[üìÑ Report Generator Agent]
    ReportGen --> |Creates comprehensive report| JobReport[üìã job_search_report.md]

    JobReport --> AppCoord[üéØ Application Coordinator Agent]
    AppCoord --> |Creates application strategy| AppStrategy[üìù application_strategy.md]

    AppStrategy --> End([‚úÖ Job Search Complete])

    %% Tool usage annotations
    JobSearch --> |SerperDevTool| SerperAPI[üåê Serper API]
    SerperAPI --> |Timeout Error| Fallback[üîÑ Fallback to Mock]

    %% Data flow annotations
    SearchResults --> |JSON format| JobEval
    EvalResults --> |Scored jobs| Database
    JobDB --> |Stored data| ReportGen
    JobReport --> |Analysis| AppCoord

    %% Styling
    classDef agent fill:#e1f5fe,stroke:#01579b,stroke-width:2px
    classDef tool fill:#f3e5f5,stroke:#4a148c,stroke-width:2px
    classDef data fill:#e8f5e8,stroke:#1b5e20,stroke-width:2px
    classDef process fill:#fff3e0,stroke:#e65100,stroke-width:2px

    class JobSearch,JobEval,Database,ReportGen,AppCoord agent
    class SerperAPI,Fallback tool
    class SearchResults,MockResults,EvalResults,JobDB,JobReport,AppStrategy data
    class LoadProfile,InitCrew process
                    </div>
                </div>
            </div>
        </section>

        <!-- Component Details -->
        <section class="section">
            <div class="container">
                <h2>Component Architecture</h2>

                <div class="api-section">
                    <h3>ü§ñ CrewAI Framework Components</h3>
                    <div class="content-grid">
                        <div class="content-block">
                            <h4>JobSeeker Crew Class</h4>
                            <p><strong>File:</strong> <code>src/job_seeker/crew.py</code></p>
                            <p>The main orchestrator that manages all agents and tasks. Handles initialization, configuration loading, and execution coordination.</p>
                            <ul>
                                <li>Loads agent and task configurations from YAML files</li>
                                <li>Initializes all five specialized agents</li>
                                <li>Manages task execution sequence and data flow</li>
                                <li>Handles error recovery and fallback mechanisms</li>
                            </ul>
                        </div>
                        <div class="content-block">
                            <h4>Agent Configurations</h4>
                            <p><strong>File:</strong> <code>src/job_seeker/config/agents.yaml</code></p>
                            <p>Defines the role, goals, backstory, and capabilities of each AI agent in the system.</p>
                            <ul>
                                <li>Agent personality and behavior definitions</li>
                                <li>Tool assignments for each agent</li>
                                <li>Memory and context management settings</li>
                                <li>Performance optimization parameters</li>
                            </ul>
                        </div>
                        <div class="content-block">
                            <h4>Task Definitions</h4>
                            <p><strong>File:</strong> <code>src/job_seeker/config/tasks.yaml</code></p>
                            <p>Specifies the tasks each agent must complete, including inputs, outputs, and success criteria.</p>
                            <ul>
                                <li>Task descriptions and expected outcomes</li>
                                <li>Input/output specifications and data formats</li>
                                <li>Execution dependencies and ordering</li>
                                <li>Quality assurance and validation rules</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="api-section">
                    <h3>üõ†Ô∏è Custom Tools Architecture</h3>
                    <p><strong>File:</strong> <code>src/job_seeker/tools/job_search_tools.py</code></p>

                    <div class="content-grid">
                        <div class="content-block">
                            <h4>JobSearchTool</h4>
                            <p>Handles job discovery across multiple platforms using the SerperDev API.</p>
                            <ul>
                                <li><strong>API Integration:</strong> SerperDev for web search</li>
                                <li><strong>Site Coverage:</strong> Indeed, LinkedIn, Glassdoor, Dice</li>
                                <li><strong>Fallback Mechanism:</strong> Mock data when API unavailable</li>
                                <li><strong>Data Normalization:</strong> Consistent JSON output format</li>
                            </ul>
                        </div>
                        <div class="content-block">
                            <h4>JobEvaluationTool</h4>
                            <p>Scores job opportunities against user profiles using weighted algorithms.</p>
                            <ul>
                                <li><strong>Skills Matching:</strong> Semantic similarity analysis</li>
                                <li><strong>Experience Assessment:</strong> Level compatibility scoring</li>
                                <li><strong>Location Analysis:</strong> Geographic preference matching</li>
                                <li><strong>Salary Evaluation:</strong> Expectation alignment</li>
                            </ul>
                        </div>
                        <div class="content-block">
                            <h4>DatabaseTool</h4>
                            <p>Manages persistent storage of job opportunities and evaluations.</p>
                            <ul>
                                <li><strong>SQLite Operations:</strong> CRUD operations for job data</li>
                                <li><strong>Schema Management:</strong> Database structure maintenance</li>
                                <li><strong>Data Integrity:</strong> Validation and constraint enforcement</li>
                                <li><strong>Query Optimization:</strong> Efficient data retrieval</li>
                            </ul>
                        </div>
                        <div class="content-block">
                            <h4>ReportGenerationTool</h4>
                            <p>Creates comprehensive markdown reports with analysis and recommendations.</p>
                            <ul>
                                <li><strong>Template Engine:</strong> Markdown report generation</li>
                                <li><strong>Data Visualization:</strong> Charts and statistical summaries</li>
                                <li><strong>Ranking Algorithms:</strong> Top opportunities identification</li>
                                <li><strong>Insights Generation:</strong> Market analysis and trends</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="api-section">
                    <h3>üíæ Data Architecture</h3>

                    <div class="content-grid">
                        <div class="content-block">
                            <h4>SQLite Database Schema</h4>
                            <pre>
CREATE TABLE job_opportunities (
    id INTEGER PRIMARY KEY,
    title TEXT NOT NULL,
    company TEXT NOT NULL,
    location TEXT,
    description TEXT,
    requirements TEXT,
    salary_range TEXT,
    url TEXT,
    source TEXT,
    discovered_date TIMESTAMP,
    match_score REAL,
    evaluation_notes TEXT
);

CREATE TABLE search_history (
    id INTEGER PRIMARY KEY,
    search_date TIMESTAMP,
    search_criteria TEXT,
    results_count INTEGER,
    execution_time REAL
);
                            </pre>
                        </div>
                        <div class="content-block">
                            <h4>User Profile Structure</h4>
                            <pre>
{
  "personal": {
    "name": "string",
    "email": "string",
    "phone": "string"
  },
  "professional": {
    "current_role": "string",
    "years_experience": "number",
    "skills": ["array"],
    "preferred_locations": ["array"],
    "expected_salary": "number"
  },
  "preferences": {
    "company_type": "string",
    "remote_work": "boolean",
    "industry": "string"
  }
}
                            </pre>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Performance and Scalability -->
        <section class="section alt-bg">
            <div class="container">
                <h2>Performance and Scalability</h2>

                <div class="content-grid">
                    <div class="content-block">
                        <h3>üöÄ Performance Optimizations</h3>
                        <ul>
                            <li><strong>Async Processing:</strong> Non-blocking API calls where possible</li>
                            <li><strong>Caching:</strong> Database query results and API responses</li>
                            <li><strong>Rate Limiting:</strong> Respectful API usage patterns</li>
                            <li><strong>Memory Management:</strong> Efficient data structures and cleanup</li>
                            <li><strong>Error Recovery:</strong> Graceful degradation and retry mechanisms</li>
                        </ul>
                    </div>
                    <div class="content-block">
                        <h3>üìà Scalability Considerations</h3>
                        <ul>
                            <li><strong>Modular Design:</strong> Easy to add new agents or tools</li>
                            <li><strong>Configurable Parameters:</strong> Adjustable search limits and timeouts</li>
                            <li><strong>Database Optimization:</strong> Indexed queries and partitioning</li>
                            <li><strong>API Abstraction:</strong> Easy to switch between different job search APIs</li>
                            <li><strong>Resource Management:</strong> Configurable memory and CPU limits</li>
                        </ul>
                    </div>
                    <div class="content-block">
                        <h3>üîí Security and Privacy</h3>
                        <ul>
                            <li><strong>Local Storage:</strong> All data stored locally on user's machine</li>
                            <li><strong>API Key Management:</strong> Secure environment variable handling</li>
                            <li><strong>Data Validation:</strong> Input sanitization and validation</li>
                            <li><strong>No Data Transmission:</strong> User profiles never sent to external services</li>
                            <li><strong>Audit Logging:</strong> Comprehensive operation logging</li>
                        </ul>
                    </div>
                    <div class="content-block">
                        <h3>üîß Extensibility Features</h3>
                        <ul>
                            <li><strong>Plugin Architecture:</strong> Easy to add new job search sources</li>
                            <li><strong>Custom Evaluators:</strong> Pluggable scoring algorithms</li>
                            <li><strong>Template System:</strong> Customizable report formats</li>
                            <li><strong>Configuration Management:</strong> YAML-based settings</li>
                            <li><strong>Tool Framework:</strong> Standard interface for new tools</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Technology Stack -->
        <section class="section">
            <div class="container">
                <h2>Technology Stack</h2>

                <div class="content-grid">
                    <div class="content-block">
                        <h3>üêç Core Technologies</h3>
                        <ul>
                            <li><strong>Python 3.10+:</strong> Main programming language</li>
                            <li><strong>CrewAI Framework:</strong> Multi-agent orchestration</li>
                            <li><strong>SQLite:</strong> Local database storage</li>
                            <li><strong>Pydantic:</strong> Data validation and serialization</li>
                        </ul>
                    </div>
                    <div class="content-block">
                        <h3>üåê External APIs</h3>
                        <ul>
                            <li><strong>SerperDev API:</strong> Web search functionality</li>
                            <li><strong>OpenAI API:</strong> AI agent intelligence (optional)</li>
                            <li><strong>Job Board APIs:</strong> Direct integrations where available</li>
                        </ul>
                    </div>
                    <div class="content-block">
                        <h3>üìö Dependencies</h3>
                        <ul>
                            <li><strong>requests:</strong> HTTP client for API calls</li>
                            <li><strong>beautifulsoup4:</strong> HTML parsing and extraction</li>
                            <li><strong>python-dotenv:</strong> Environment variable management</li>
                            <li><strong>lxml:</strong> XML/HTML processing</li>
                        </ul>
                    </div>
                    <div class="content-block">
                        <h3>üõ†Ô∏è Development Tools</h3>
                        <ul>
                            <li><strong>GitHub Pages:</strong> Documentation hosting</li>
                            <li><strong>Mermaid:</strong> Architecture diagrams</li>
                            <li><strong>Markdown:</strong> Documentation format</li>
                            <li><strong>YAML:</strong> Configuration management</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>Documentation</h4>
                    <ul>
                        <li><a href="architecture.html">System Architecture</a></li>
                        <li><a href="getting-started.html">Getting Started</a></li>
                        <li><a href="api-reference.html">API Reference</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Resources</h4>
                    <ul>
                        <li><a href="https://www.crewai.com/">CrewAI Framework</a></li>
                        <li><a href="https://serper.dev/">SerperDev API</a></li>
                        <li><a href="https://docs.crewai.com/">CrewAI Documentation</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Source Code</h4>
                    <ul>
                        <li><a href="https://github.com/netors/job_seeker">GitHub Repository</a></li>
                        <li><a href="https://github.com/netors/job_seeker/issues">Report Issues</a></li>
                        <li><a href="https://github.com/netors/job_seeker/blob/main/CLAUDE.md">Development Guide</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 AI-Powered Job Search System. Built with CrewAI framework.</p>
                <p>Follow the creator: <a href="http://x.com/eruysanchez" target="_blank">@eruysanchez</a></p>
            </div>
        </div>
    </footer>

    <script src="scripts.js"></script>
</body>
</html>